<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íŠ¸ëŸ¼í”„ ìˆ˜í˜œì£¼ ëŒ€í™”í˜• ë¶„ì„ ëŒ€ì‹œë³´ë“œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: A non-linear, dashboard-style Single Page Application (SPA). The structure prioritizes the report's key findingsâ€”the two recommended stocks (Halliburton & Nucor)â€”by presenting them upfront. The core of the app is an interactive comparison dashboard where users can toggle between the two companies. Selecting a company dynamically updates all content blocks, including a company profile, key financial metrics (as visual cards), financial trend charts (Revenue, FCF, Assets), and a tabbed section for detailed text analysis (Investment Thesis, Risks, Timing). A collapsible section provides the broader policy context. This user-flow-centric design was chosen to transform the dense, linear report into an interactive analysis tool, enabling users to easily compare the two primary investment candidates and explore supporting data on demand, which is far more engaging and usable than simply reading the report. -->
    <!-- Visualization & Content Choices: 
        - Report Key Findings (HAL/NUE) -> Goal: Highlight -> Presentation: Prominent clickable cards -> Justification: Immediately surfaces the report's actionable conclusion.
        - Financial Trends (Revenue, FCF, Assets) -> Goal: Compare/Show Change -> Viz: Bar Charts (Chart.js/Canvas) -> Interaction: Hover tooltips -> Justification: Visualizes trends more effectively than a static data table.
        - Valuation/Debt Metrics -> Goal: Inform/Compare -> Presentation: Styled KPI cards (HTML/Tailwind) -> Justification: Provides a quick, scannable overview of financial health.
        - Detailed Text Analysis (Thesis, Risks) -> Goal: Organize -> Presentation: Tabbed content area (HTML/JS) -> Interaction: Clickable tabs -> Justification: Manages text density and allows focused reading without overwhelming the user.
        - Company Selection -> Goal: Control/Navigate -> Presentation: Main toggle buttons -> Interaction: Click to update dashboard -> Justification: Core interactive mechanism for the application, enabling direct comparison.
        - Economic Moat -> Goal: Inform -> Presentation: Icon + Text (Unicode Shield) -> Justification: Offers a quick visual shorthand for competitive strength.
        - Policy Context -> Goal: Organize/Inform -> Presentation: Collapsible Accordion -> Interaction: Click to expand/collapse -> Justification: Hides secondary background info to keep the main view clean, making it available on-demand for deeper dives.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f8f9fa;
        }
        .chart-container {
            position: relative;
            width: 100%;
            height: 300px;
            max-height: 320px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
                max-height: 350px;
            }
        }
        .tab-button.active {
            border-color: #1d4ed8;
            color: #1d4ed8;
            background-color: #eff6ff;
        }
        .company-selector.active {
            background-color: #1e40af;
            color: white;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 lg:p-8 max-w-7xl">

        <header class="text-center mb-10">
            <h1 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-2">ë¯¸êµ­ ì£¼ì‹ ì‹¬ì¸µ ë¶„ì„ ëŒ€ì‹œë³´ë“œ</h1>
            <p class="text-base sm:text-lg text-gray-600">íŠ¸ëŸ¼í”„ ì¬ì§‘ê¶Œ ì‹œ ìˆ˜í˜œ ì˜ˆìƒ ì €í‰ê°€ ê°€ì¹˜ì£¼ íƒìƒ‰</p>
        </header>

        <main>
            <div class="bg-white p-6 rounded-2xl shadow-lg mb-8">
                <h2 class="text-2xl font-bold mb-4 text-center text-blue-800">í•µì‹¬ íˆ¬ì ëŒ€ìƒ ê¸°ì—…</h2>
                <p class="text-center text-gray-600 mb-6 max-w-3xl mx-auto">ë³¸ ë³´ê³ ì„œëŠ” ì¬ë¬´ ê±´ì „ì„±, ê²½ì œì  í•´ì, ì €í‰ê°€, ê·¸ë¦¬ê³  íŠ¸ëŸ¼í”„ í–‰ì •ë¶€ì˜ ì ì¬ì  ì •ì±… ìˆ˜í˜œ ê°€ëŠ¥ì„±ì„ ì¢…í•©í•˜ì—¬ ë‹¤ìŒ ë‘ ê¸°ì—…ì„ í•µì‹¬ íˆ¬ì ëŒ€ìƒìœ¼ë¡œ ì„ ì •í–ˆìŠµë‹ˆë‹¤. ì•„ë˜ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ê° ê¸°ì—…ì˜ ìƒì„¸ ë¶„ì„ì„ í™•ì¸í•˜ì„¸ìš”.</p>
                <div class="flex justify-center gap-4">
                    <button id="select-HAL" class="company-selector text-lg font-bold py-3 px-8 rounded-full transition-all duration-300">Halliburton (HAL)</button>
                    <button id="select-NUE" class="company-selector text-lg font-bold py-3 px-8 rounded-full transition-all duration-300">Nucor (NUE)</button>
                </div>
            </div>

            <div id="dashboard-content" class="fade-in">
                <section class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8">
                    <div class="lg:col-span-1 bg-white p-6 rounded-2xl shadow-lg">
                        <h3 id="company-name" class="text-2xl font-bold mb-4"></h3>
                        <p id="company-description" class="text-gray-600 mb-4"></p>
                        <div class="space-y-3">
                            <div>
                                <h4 class="font-semibold text-gray-700">ê²½ì œì  í•´ì (Economic Moat)</h4>
                                <p id="company-moat" class="text-blue-700 font-bold"></p>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-700">íŠ¸ëŸ¼í”„ ì •ì±… ìˆ˜í˜œ í¬ì¸íŠ¸</h4>
                                <p id="policy-benefit" class="text-gray-600"></p>
                            </div>
                        </div>
                    </div>
                    <div class="lg:col-span-2 bg-white p-6 rounded-2xl shadow-lg">
                        <h3 class="text-xl font-bold mb-4 text-center">í•µì‹¬ ì¬ë¬´ ë° ë°¸ë¥˜ì—ì´ì…˜ ì§€í‘œ</h3>
                        <div id="kpi-cards" class="grid grid-cols-2 md:grid-cols-3 gap-4 text-center">
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-sm text-gray-500">PER</p>
                                <p id="kpi-per" class="text-2xl font-bold"></p>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-sm text-gray-500">PBR</p>
                                <p id="kpi-pbr" class="text-2xl font-bold"></p>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-sm text-gray-500">EV/EBITDA</p>
                                <p id="kpi-evebitda" class="text-2xl font-bold"></p>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-sm text-gray-500">ë¶€ì±„ë¹„ìœ¨(D/E)</p>
                                <p id="kpi-debt" class="text-2xl font-bold"></p>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg col-span-2 md:col-span-1">
                                <p class="text-sm text-gray-500">ì ì •ê°€ì¹˜ ëŒ€ë¹„</p>
                                <p id="kpi-valuation" class="text-2xl font-bold text-green-600"></p>
                            </div>
                        </div>
                    </div>
                </section>
                
                <section class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-8">
                     <div class="bg-white p-6 rounded-2xl shadow-lg">
                        <h3 class="text-xl font-bold mb-4 text-center">ë§¤ì¶œ ì„±ì¥ ì¶”ì´ (ì‹­ì–µ $)</h3>
                        <div class="chart-container"><canvas id="revenue-chart"></canvas></div>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-lg">
                        <h3 class="text-xl font-bold mb-4 text-center">ìì‚° ì„±ì¥ ì¶”ì´ (ì‹­ì–µ $)</h3>
                        <div class="chart-container"><canvas id="assets-chart"></canvas></div>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-lg md:col-span-2 lg:col-span-1">
                        <h3 class="text-xl font-bold mb-4 text-center">ì‰ì—¬í˜„ê¸ˆíë¦„(FCF) ì¶”ì´ (ì‹­ì–µ $)</h3>
                        <div class="chart-container"><canvas id="fcf-chart"></canvas></div>
                    </div>
                </section>

                <section class="bg-white p-6 rounded-2xl shadow-lg">
                    <h3 class="text-xl font-bold mb-4">ìƒì„¸ ë¶„ì„</h3>
                    <div class="border-b border-gray-200 mb-4">
                        <nav class="flex space-x-2 sm:space-x-4" aria-label="Tabs">
                             <button data-tab="thesis" class="tab-button font-medium text-gray-500 whitespace-nowrap py-2 px-2 sm:px-4 border-b-2 border-transparent text-sm sm:text-base">íˆ¬ì ë…¼ë¦¬</button>
                             <button data-tab="risks" class="tab-button font-medium text-gray-500 whitespace-nowrap py-2 px-2 sm:px-4 border-b-2 border-transparent text-sm sm:text-base">ë¦¬ìŠ¤í¬ ìš”ì¸</button>
                             <button data-tab="timing" class="tab-button font-medium text-gray-500 whitespace-nowrap py-2 px-2 sm:px-4 border-b-2 border-transparent text-sm sm:text-base">ê¸°ìˆ ì  ë¶„ì„ ë° íƒ€ì´ë°</button>
                        </nav>
                    </div>
                    <div id="analysis-content" class="text-gray-700 leading-relaxed"></div>
                </section>
            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const reportData = {
                'HAL': {
                    name: 'Halliburton (HAL)',
                    description: 'ë¶ë¯¸ ìµœëŒ€ì˜ ìœ ì „ ì„œë¹„ìŠ¤ íšŒì‚¬ë¡œ, ìˆ˜ì•• íŒŒì‡„ ë° ì™„ê²°, ì‹œì¶” ê¸°ìˆ  ë¶„ì•¼ì—ì„œ ì‹œì¥ì„ ì„ ë„í•˜ê³  ìˆìŠµë‹ˆë‹¤. ìƒì‚°ìì˜ ê°œë°œ ë¹„ìš© ì ˆê°ì„ ìœ„í•œ í•µì‹¬ ì†”ë£¨ì…˜ì„ ì œê³µí•©ë‹ˆë‹¤.',
                    moat: 'ì¢ì€ í•´ì (Narrow Moat) ğŸ›¡ï¸',
                    policyBenefit: 'ì¹œí™”ì„ ì—°ë£Œ ì •ì±…, ê·œì œ ì™„í™” ë° êµ­ë‚´ ì„ìœ /ê°€ìŠ¤ ìƒì‚° ì¦ëŒ€ ë…¸ë ¥ì˜ ì§ì ‘ì ì¸ ìˆ˜í˜œê°€ ì˜ˆìƒë©ë‹ˆë‹¤.',
                    kpis: {
                        per: '9.59x',
                        pbr: '2.28x',
                        evebitda: '5.2x',
                        debt: '72.4%',
                        valuation: '44.1% ì €í‰ê°€'
                    },
                    financials: {
                        labels: ['2020', '2021', '2022', '2023', '2024'],
                        revenue: [14.45, 15.30, 20.30, 23.02, 22.94],
                        assets: [20.68, 22.32, 23.25, 24.68, 25.59],
                        fcf: [0.89, 1.37, 1.43, 2.27, 1.10],
                    },
                    analysis: {
                        thesis: `íŠ¸ëŸ¼í”„ì˜ ì¹œí™”ì„ ì—°ë£Œ ì •ì±…ê³¼ ìœ ê°€ê°€ ì•ˆì •í™”ë  ê²½ìš° êµ­ë‚´ ì‹œì¶” í™œë™ ì¦ê°€ë¡œ ìˆ˜í˜œë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ íŠ¸ëŸ¼í”„ì˜ ìƒí˜¸ ê´€ì„¸ ì •ì±…ì—ì„œ ì„ìœ /ê°€ìŠ¤ ë¶„ì•¼ê°€ ì œì™¸ëœ ì ì€ ê¸ì •ì ì…ë‹ˆë‹¤. í˜„ì¬ ë°¸ë¥˜ì—ì´ì…˜ì€ 5ë…„ë˜ ìµœì € ìˆ˜ì¤€ìœ¼ë¡œ, ì‚°ì—… í‰ê·  ëŒ€ë¹„ í˜„ì €íˆ ë‚®ì•„ 'ì €ì  êµ¬ê°„'ì˜ ë§¤ë ¥ì„ ê°€ì§‘ë‹ˆë‹¤. ë¶€ì±„ë¹„ìœ¨ì€ ì§€ë‚œ 5ë…„ê°„ í¬ê²Œ ê°œì„ ë˜ì—ˆìœ¼ë©°, ê²¬ê³ í•œ í˜„ê¸ˆ íë¦„ìœ¼ë¡œ ì•ˆì •ì ì¸ ê´€ë¦¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.`,
                        risks: `ìµœê·¼ ë¶ë¯¸ ì‹œì¶” ìˆ˜ìš” ê°ì†Œê°€ ë‹¨ê¸°ì ì¸ ì—­í’ìœ¼ë¡œ ì‘ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë˜í•œ, ìˆ˜ì… ì² ê°• ë° ë¶€í’ˆì— ëŒ€í•œ ê´€ì„¸ ì •ì±…ì€ ì¥ë¹„ ë¹„ìš© ìƒìŠ¹ê³¼ ê³µê¸‰ë§ êµë€ì„ ì•¼ê¸°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìœ ê°€ ë³€ë™ì„±ì— ë”°ë¥¸ ì‹¤ì  ë¯¼ê°ë„ê°€ ë†’ìœ¼ë©°, êµ­ì œ ì‹œì¥ì˜ ì§€ì •í•™ì  ë¶ˆí™•ì‹¤ì„±ë„ ë¦¬ìŠ¤í¬ ìš”ì¸ì…ë‹ˆë‹¤. ìµœê·¼ 1ë¶„ê¸° ì‹¤ì ì—ì„œ ì´ìµ ê°ì†Œ ë° ë¶ë¯¸ ë§¤ì¶œ í•˜ë½ì´ ê´€ì°°ë˜ì—ˆìŠµë‹ˆë‹¤.`,
                        timing: `ìµœê·¼ ì£¼ê°€ëŠ” ì—°ì´ˆ ëŒ€ë¹„, ê·¸ë¦¬ê³  ì§€ë‚œ 1ë…„ê°„ ì‹œì¥ ëŒ€ë¹„ ì €ì¡°í•œ ì„±ê³¼ë¥¼ ë³´ì´ë©° 'ì €ì  êµ¬ê°„'ì— ì§„ì…í–ˆìŠµë‹ˆë‹¤. ë§¤ìˆ˜ íƒ€ì´ë°ì€ ì£¼ê°€ ì•ˆì •í™” ì‹ í˜¸ì™€ ë°˜ì „ íŒ¨í„´(ì˜ˆ: ì´ì¤‘ ë°”ë‹¥, ê°•ì„¸ ë‹¤ì´ë²„ì „ìŠ¤) í™•ì¸ í›„ ê³ ë ¤í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•©ë‹ˆë‹¤. 50ì¼ ì´ë™í‰ê· ì„ ì´ 200ì¼ì„ ì„ ìƒí–¥ ëŒíŒŒí•˜ëŠ” ê³¨ë“  í¬ë¡œìŠ¤ì™€ ê±°ë˜ëŸ‰ ì¦ê°€ëŠ” ì¶”ì„¸ ì „í™˜ì˜ ì¤‘ìš”í•œ ì‹ í˜¸ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê²¬ê³ í•œ ì§€ì§€ì„  í˜•ì„± í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.`
                    }
                },
                'NUE': {
                    name: 'Nucor (NUE)',
                    description: 'ë¶ë¯¸ ìµœëŒ€ì˜ ë‹¤ê°í™”ëœ ì² ê°• ë° ì² ê°• ì œí’ˆ ìƒì‚° ê¸°ì—…ì´ì ìµœëŒ€ ì¬í™œìš© ê¸°ì—…ì…ë‹ˆë‹¤. í˜ì‹ ì ì¸ ìƒì‚° ê³µì •ê³¼ ê°€ë³€ì  ë¹„ìš© êµ¬ì¡°ë¡œ ë†’ì€ ê²½ìŸë ¥ì„ ìë‘í•©ë‹ˆë‹¤.',
                    moat: 'ë„“ì€ í•´ì (Wide Moat) ğŸ›¡ï¸ğŸ›¡ï¸',
                    policyBenefit: 'ì² ê°• ìˆ˜ì…í’ˆì— ëŒ€í•œ ë³´í˜¸ë¬´ì—­ ê´€ì„¸ ê°•í™”ì™€ ëŒ€ê·œëª¨ ì¸í”„ë¼ íˆ¬ì í™•ëŒ€ ì •ì±…ì˜ ì§ì ‘ì ì¸ ìˆ˜í˜œì£¼ì…ë‹ˆë‹¤.',
                    kpis: {
                        per: '9.61x',
                        pbr: '2.08x',
                        evebitda: '5.73x',
                        debt: '33.0%',
                        valuation: 'ì €í‰ê°€ ìƒíƒœ'
                    },
                    financials: {
                        labels: ['2020', '2021', '2022', '2023', '2024'],
                        revenue: [20.14, 36.48, 41.51, 34.71, 30.73],
                        assets: [20.12, 25.82, 32.47, 35.34, 33.94],
                        fcf: [1.22, 2.54, 8.30, 6.11, 1.75],
                    },
                    analysis: {
                        thesis: `íŠ¸ëŸ¼í”„ í–‰ì •ë¶€ì˜ ì² ê°• ìˆ˜ì…í’ˆ 50% ê´€ì„¸ ì •ì±…ì€ Nucorì—ê²Œ ê°•ë ¥í•œ 'ë³´í˜¸ ìš°ì‚°'ì„ ì œê³µí•˜ì—¬ ê°€ê²© ê²°ì •ë ¥ì„ ë†’ì´ê³  ìˆ˜ìµì„±ì„ ì§ì ‘ì ìœ¼ë¡œ ê°œì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¸í”„ë¼ íˆ¬ì í™•ëŒ€ ì—­ì‹œ ì² ê°• ìˆ˜ìš” ì¦ê°€ë¡œ ì´ì–´ì§ˆ í•µì‹¬ ë™ë ¥ì…ë‹ˆë‹¤. ì—…ê³„ ìµœê³  ìˆ˜ì¤€ì˜ ë‚®ì€ ë¶€ì±„ë¹„ìœ¨ê³¼ ì‹ ìš© ë“±ê¸‰, ê·¸ë¦¬ê³  ê²½ê¸° ì‚¬ì´í´ì„ ë²„í…¨ë‚´ëŠ” ê°•ë ¥í•œ í˜„ê¸ˆíë¦„ ì°½ì¶œ ëŠ¥ë ¥ì€ íˆ¬ì ì•ˆì •ì„±ì„ ë”í•©ë‹ˆë‹¤.`,
                        risks: `ê´€ì„¸ë¡œ ì¸í•œ ì² ê°• ê°€ê²© ìƒìŠ¹ì€ ìë™ì°¨, ê±´ì„¤ ë“± í•˜ìœ„ ì‚°ì—…ì— ë¹„ìš© ë¶€ë‹´ì„ ì£¼ì–´ ì¥ê¸°ì ìœ¼ë¡œ ì „ë°˜ì ì¸ ì² ê°• ìˆ˜ìš”ë¥¼ ìœ„ì¶•ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëŒ€ê·œëª¨ ìë³¸ ì§€ì¶œ ê³„íš(2025ë…„ 30ì–µ ë‹¬ëŸ¬)ì€ ë‹¨ê¸°ì ìœ¼ë¡œ í˜„ê¸ˆ íë¦„ì— ë¶€ë‹´ì„ ì£¼ê³  ìì‚¬ì£¼ ë§¤ì… ì†ë„ë¥¼ ëŠ¦ì¶œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì² ê°• ì‚°ì—… ìì²´ì˜ ê²½ê¸° ìˆœí™˜ì  íŠ¹ì„±ì€ ë³¸ì§ˆì ì¸ ë¦¬ìŠ¤í¬ì…ë‹ˆë‹¤.`,
                        timing: `ìµœê·¼ ì² ê°• ê°€ê²© ì•ˆì •í™”ì™€ í•¨ê»˜ ê´€ì„¸ ì¸ìƒ ê¸°ëŒ€ê°ì´ ì£¼ê°€ì— ê¸ì •ì ìœ¼ë¡œ ì‘ìš©í•  ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤. í˜„ì¬ ë°¸ë¥˜ì—ì´ì…˜ì€ ì €í‰ê°€ ìƒíƒœë¡œ íŒë‹¨ë©ë‹ˆë‹¤. ê¸°ìˆ ì ìœ¼ë¡œëŠ” ì£¼ê°€ê°€ í•˜ë½ ì¶”ì„¸ì—ì„œ ë²—ì–´ë‚˜ ì£¼ìš” ì´ë™í‰ê· ì„ (20ì¼, 50ì¼) ìœ„ë¡œ ì•ˆì°©í•˜ëŠ” ì‹œì ì„ ë…¸ë¦¬ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ê°•ë ¥í•œ ê±°ë˜ëŸ‰ì„ ë™ë°˜í•œ ì €í•­ì„  ëŒíŒŒëŠ” ì¤‘ìš”í•œ ë§¤ìˆ˜ ì‹ í˜¸ê°€ ë  ìˆ˜ ìˆìœ¼ë©°, ê´€ì„¸ ì •ì±… íš¨ê³¼ê°€ ì‹œì¥ì— ë°˜ì˜ë˜ëŠ” ì‹œì ì´ ë§¤ë ¥ì ì¸ íƒ€ì´ë°ì´ ë  ê²ƒì…ë‹ˆë‹¤.`
                    }
                }
            };

            let currentTicker = 'HAL';
            let currentAnalysisTab = 'thesis';
            let chartInstances = {};

            const companyNameEl = document.getElementById('company-name');
            const companyDescriptionEl = document.getElementById('company-description');
            const companyMoatEl = document.getElementById('company-moat');
            const policyBenefitEl = document.getElementById('policy-benefit');
            const kpiPerEl = document.getElementById('kpi-per');
            const kpiPbrEl = document.getElementById('kpi-pbr');
            const kpiEvebitdaEl = document.getElementById('kpi-evebitda');
            const kpiDebtEl = document.getElementById('kpi-debt');
            const kpiValuationEl = document.getElementById('kpi-valuation');
            const analysisContentEl = document.getElementById('analysis-content');
            const dashboardContentEl = document.getElementById('dashboard-content');

            const selectHALBtn = document.getElementById('select-HAL');
            const selectNUEBtn = document.getElementById('select-NUE');
            const tabButtons = document.querySelectorAll('.tab-button');
            
            function createOrUpdateChart(id, labels, data, chartLabel, backgroundColor) {
                const ctx = document.getElementById(id).getContext('2d');
                if (chartInstances[id]) {
                    chartInstances[id].destroy();
                }
                chartInstances[id] = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: chartLabel,
                            data: data,
                            backgroundColor: backgroundColor,
                            borderColor: backgroundColor.replace('0.6', '1'),
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.dataset.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed.y !== null) {
                                            label += context.parsed.y.toFixed(2) + ' B';
                                        }
                                        return label;
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    font: { size: 10 }
                                }
                            },
                            x: {
                                ticks: {
                                    font: { size: 12 }
                                }
                            }
                        }
                    }
                });
            }

            function updateDashboard() {
                const data = reportData[currentTicker];
                
                dashboardContentEl.classList.remove('fade-in');
                void dashboardContentEl.offsetWidth; 
                dashboardContentEl.classList.add('fade-in');

                companyNameEl.textContent = data.name;
                companyDescriptionEl.textContent = data.description;
                companyMoatEl.textContent = data.moat;
                policyBenefitEl.textContent = data.policyBenefit;

                kpiPerEl.textContent = data.kpis.per;
                kpiPbrEl.textContent = data.kpis.pbr;
                kpiEvebitdaEl.textContent = data.kpis.evebitda;
                kpiDebtEl.textContent = data.kpis.debt;
                kpiValuationEl.textContent = data.kpis.valuation;
                
                createOrUpdateChart('revenue-chart', data.financials.labels, data.financials.revenue, 'ë§¤ì¶œ', 'rgba(54, 162, 235, 0.6)');
                createOrUpdateChart('assets-chart', data.financials.labels, data.financials.assets, 'ìì‚°', 'rgba(75, 192, 192, 0.6)');
                createOrUpdateChart('fcf-chart', data.financials.labels, data.financials.fcf, 'FCF', 'rgba(255, 159, 64, 0.6)');

                updateAnalysisContent();
                updateSelectors();
            }

            function updateAnalysisContent() {
                analysisContentEl.textContent = reportData[currentTicker].analysis[currentAnalysisTab];
            }
            
            function updateSelectors() {
                selectHALBtn.classList.toggle('active', currentTicker === 'HAL');
                selectNUEBtn.classList.toggle('active', currentTicker === 'NUE');
                
                tabButtons.forEach(btn => {
                    btn.classList.toggle('active', btn.dataset.tab === currentAnalysisTab);
                });
            }

            selectHALBtn.addEventListener('click', () => {
                currentTicker = 'HAL';
                updateDashboard();
            });

            selectNUEBtn.addEventListener('click', () => {
                currentTicker = 'NUE';
                updateDashboard();
            });
            
            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    currentAnalysisTab = button.dataset.tab;
                    updateAnalysisContent();
                    updateSelectors();
                });
            });

            updateDashboard();
        });
    </script>

</body>
</html>
